# Ресурс подачі заявок

Призначений для автоматичної подачі завок персоналом, що працює на обєкті - для ремонту та обслуговування.

**Персонал** створює завку в якій вказує тип обладнання, пріорітет, суть проблеми та за необхідністю прикріплює фото, 
подає завку яка автоматично надсилається відповідальному **підряднику**.

Ресурс доступний тільки аутентифікованим користувачам які мають певний рівень доступу та відповідні можливості.

## Заявка
Створюється користувачем, має: статус, тип робіт, терміни виконання, інформацію про заявника, виконавця, опис проблеми 
та прикріплені файли. 
До завки можна додавати **коментарі**.

При створенні заяки, зміні статусу, дованні коментаря - заявник та виконавець отримують повідомлення на пошту.

_Завка яка закрита, відхилена, відмінена не підлягає редагуванню._

### Створення
Користувач вказує тип обладнання, пріорітет, суть проблеми та прикріплює фото за необхідністю.

_Інформація що підтягується автоматично:_
- об'єкт - з профілю користувача
- підрядник - відповідно до обє'кту та типу робіт
- терміни виконання - відповідно пріорітету

### Редагування
Завку можна редагувати.

Завка має терміни виконання, їх можна змінювати, але якщо терміни вичерпано заявка отримує статус протермінованої, 
що можна відобразити на фронті для привернення уваги відповідальних осіб.

## Рівні доступу
Наразі існує 5 рівнів:
- підрядник
- юзер
- інженер
- старший інженер
- адмін

### Підрядник 
Бачить тільки свої завки, пише коментарі, змінює статус заявки.

### Юзер
Бачить завки свого філіалу, пише коментарі, змінює статус заявки. Бачить інформацію про всіх інших користувачів (доступний пошук)

### Інженер
Бачить всі завки, може оновлювати їх.
Бачить всіх, створює, оновлює підрядників.
Бачить локації та інфу про них, створює та оновлює типи робіт локацій(визначає відповідальних підрядків відносно типу робіт)

### Старший Інженер
Може все що інженер.
Видаляє підрядників.
Створює, оновлює юзерів та локації.

### Адмін
Може все, що старший адмін.
Видаляє локації та юзерів.

## Функціонал
### Авторизація
- логінація
- зміна паролю (при зміні первірка чи не використувався раніше)
### Юзер
- створення
- апдейт
- видалення
- вивід всіх
- вивід одного
- зміна паролю
### Локації
- створення
- апдейт
- видалення
- вивід всіх
- вивід одного

### Підрядник
- створення
- апдейт
- видалення
- вивід всіх
- вивід одного
- зміна паролю

### Типи робіт
- створення
- пошук по об'єкту
- апдейт

### Заявка
- створення
- апдейт
- показ усіх
- показ усіх за об'єктом
- показ усіх за підрядником
- показ одної

### Коментарі
- створення
- показ до заявки

### Сервіс повідомлень:
1. отримує лист про нову заявку - Підрядник, Інженер,
2. про закриття - Інженер. Юзер. Підрядник
3. про протермінування - Інженер, Підрядник
4. про коміт виконавець та заявник
5. про зміну паролю

### Крони перевіряють :
1. заявки на предмет Протермінування та призначають статус "overdue"
2. старі токени та паролі - видаляють